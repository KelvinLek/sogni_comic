"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/** A simple memory cache implementation. */
class Cache {
    constructor(defaultTTL) {
        this.data = new Map();
        this.ttl = defaultTTL;
        setInterval(() => this.cleanup(), 10000);
    }
    write(key, value, ttl) {
        this.data.set(key, {
            exp: Date.now() + (ttl || this.ttl),
            value
        });
    }
    read(key) {
        const record = this.data.get(key);
        return record && record.exp > Date.now() ? record.value : undefined;
    }
    cleanup() {
        const now = Date.now();
        this.data.forEach((record, key) => {
            if (record.exp < now) {
                this.data.delete(key);
            }
        });
    }
}
exports.default = Cache;
//# sourceMappingURL=Cache.js.map